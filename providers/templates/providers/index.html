{% load static %}
<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Health Providers Database</title>
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor"
      crossorigin="anonymous"
    />
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
      crossorigin="anonymous"
    ></script>
    <link rel="stylesheet" href="{% static 'css/custom.css' %}" />
  </head>
  <body class="full-height">
    <header
      class="p-3 mb-2 bg-danger text-white d-flex justify-content-center fixed-top"
    >
      <div class="container-sm">
        <nav class="header-nav">
          <a href="{% url 'home' %}" class="btn btn-light">Home</a>
          <a href="{% url 'new' %}" class="btn btn-light">Add Provider</a>
          <a href="#" class="btn btn-success">Export</a>
        </nav>
      </div>
    </header>
    <main>
      <div class="container-fluid">
        <div class="row">
          <div class="col-2 bg-secondary full-height padding-top-custom">
            <nav class="sidebar px-1">
              <form
                class="search-container"
                action="{% url 'home' %}"
                method="get"
              >
                <div class="row">
                  <input name="name" type="text" placeholder="Search by Name" />
                </div>
                <div class="row">
                  <select name="license" title="License">
                    <option selected disabled>License</option>
                    {% for license in licenses %}
                    <option value="{{ license.id }}">{{ license.name }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="row">
                  <select name="specialty" title="Specialty">
                    <option selected disabled>Specialty</option>
                    {% for specialty in specialties %}
                    <option value="{{ specialty.id }}">
                      {{ specialty.name }}
                    </option>
                    {% endfor %}
                  </select>
                </div>
                <div class="row">
                  <select name="language" title="Language">
                    <option selected disabled>Language</option>
                    {% for language in languages %}
                    <option value="{{ language.id }}">
                      {{ language.name }}
                    </option>
                    {% endfor %}
                  </select>
                </div>
                <div class="row">
                  <select name="insurance" title="Insurance">
                    <option selected disabled>Insurance</option>
                    {% for i in insurance %}
                    <option value="{{ i.id }}">{{ i.name }}</option>
                    {% endfor %}
                  </select>
                </div>
                <div class="row">
                  <input
                    type="submit"
                    value="Search"
                    class="btn btn-info align-bottom"
                  />
                </div>
              </form>
            </nav>
          </div>
          <div class="col-10 padding-top-custom">
            <div class="container-fluid">
              <table class="table table-striped">
                <thead>
                  <tr class="border-bottom">
                    <th>ID</th>
                    <th>Name</th>
                    <th>Phone</th>
                    <th>Email</th>
                    <th>Insurance</th>
                    <th>Licenses</th>
                    <th>Specialties</th>
                    <th>Languages</th>
                    <!-- <th>Comments</th> -->
                    <th>Edit/Delete</th>
                  </tr>
                </thead>
                <tbody>
                  {% for provider in providers %}
                  <tr>
                    <td>{{ provider.id }}</td>
                    <td>{{ provider.name }}</td>
                    <td>{{ provider.phone }}</td>
                    <td>{{ provider.email }}</td>
                    <td>{{ provider.insurance|join:', ' }}</td>
                    <td>{{ provider.licenses|join:', ' }}</td>
                    <td>{{ provider.specialties|join:', ' }}</td>
                    <td>{{ provider.languages|join:', ' }}</td>
                    <!-- <td>{{ provider.comments }}</td> -->
                    <td>
                      <form class="edit-delete-form" action="#">
                        <button class="btn btn-info">Edit</button>
                        <button class="btn btn-danger">Delete</button>
                      </form>
                    </td>
                  </tr>
                  {% endfor %}
                </tbody>
              </table>
            </div>
          </div>
        </div>
      </div>
    </main>
    <footer></footer>
  </body>
</html>
